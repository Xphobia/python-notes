
<html>
    <head>
        <title>SocketIO Demo</title>
        <!---
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.1.3/socket.io.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script type="text/javascript" src="//cdn.bootcss.com/ajax/libs/socket.io/3.1.3/socket.io.min.js"></script>
        <script src="//cdn.bootcss.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        -->
        <script type="text/javascript" src="{{url_for('static', filename='socket.io.min.js')}}"></script>
        <script src="{{url_for('static', filename='jquery.min.js')}}"></script>
    </head>
    <body>
        <script type="text/javascript">
            $(document).ready(function(){
                // var socket = io.connect('http://127.0.0.1:8083')
                var socket = io.connect('http' + '//' + document.domain + ':' + location.port);

                socket.on('connect', function(){
                    socket.send('Client has connected!')
                });

                socket.on('message', function(msg){
                    $('#messages').append('<li>'+msg+'</li>');
                    console.log('Received message');
                });

                $('#sendbutton').on('click', function(){
                    socket.send($('#myMessage').val());
                    $('#myMessage').val('');
                });
            });
        </script>
        <ul id="messages"></ul>
        <input type="text" id="myMessage">
        <button id="sendbutton">Send</button>
    </body>
</html>



